**Ansible** — це інструмент **автоматизації IT-інфраструктури**, який дозволяє керувати серверами, сервісами та додатками **декларативно**, без встановлення агентів на керовані хости.

Ansible використовується для:
- конфігураційного менеджменту
- деплою додатків
- автоматизації рутинних операцій
- оркестрації інфраструктури

## Основні цілі Ansible
- автоматизувати повторювані дії
- зменшити людські помилки
- забезпечити однакову конфігурацію серверів
- прискорити розгортання та відновленн

## Архітектура Ansible

## Control Node
Машина, з якої запускається Ansible.
- зазвичай Linux
- містить playbooks, inventory, roles
## Managed Nodes
Сервери, якими керує Ansible.
- Linux / Windows
- доступ по SSH (Linux) або WinRM (Windows)
- **агенти не потрібні**

## Принцип роботи
1. Ansible запускається з control node
2. Підключається до серверів по SSH / WinRM
3. Виконує задачі, описані в playbook
4. Повертає результат виконання

## Inventory
**Inventory** — список серверів, якими керує Ansible.
Може бути:
- статичний (INI / YAML)
- динамічний (AWS, Azure, GCP)

Містить:
- IP / hostname
- групи серверів
- змінні (vars)

## Playbook
**Playbook** — YAML-файл, який описує **що має бути зроблено**, а не **як**.
Характеристики:
- читається як інструкція
- складається з play → tasks
- декларативний підхід

## Task
**Task** — одна окрема дія:
- встановити пакет
- запустити сервіс
- скопіювати файл

## Modules
**Modules** — готові дії Ansible.
Приклади:
- `apt`, `yum` — пакети
- `service` — сервіси
- `copy`, `template` — файли
- `user`, `group` — користувачі
- `command`, `shell`

**Ansible** використовує **модулі**, а не shell-скрипти за замовчуванням.

## Idempotency
**Idempotency** — ключова властивість Ansible.
 Повторний запуск playbook **не змінює систему**, якщо вона вже в потрібному стані.
Це:
- безпечно
- передбачувано
- зручно для support

## Variables (Vars)
Змінні дозволяють:
- уникати хардкоду
- адаптувати playbook під різні середовища

Де використовуються:
- inventory
- playbooks
- roles
- group_vars / host_vars

## Roles
**Role** — структурований набір:
- tasks
- vars
- templates
- handlers
- files

Використовується для:
- повторного використання
- читабельності
- масштабування

## Handlers
**Handlers** — спеціальні задачі, які виконуються **тільки якщо щось змінилось**.
Приклад:
- перезапуск сервісу після зміни конфігу

## Facts
**Facts** — автоматично зібрана інформація про сервер:

- ОС
- IP
- CPU
- RAM
- диски

Використовуються для:
- умов
- логіки виконання

## Conditionals
Умови дозволяють виконувати задачі залежно від:
- ОС
- змінних
- фактів

## Ansible Vault
**Vault** — механізм шифрування:
- паролів
- токенів
- секретів

Використовується для безпеки.

## Check Mode (Dry Run)
Дозволяє:
- перевірити, що зміниться
- без реального застосування

Корисно для:
- продакшн
- аудитів

## Logging і Output
- показує статус кожної задачі
- `ok / changed / failed`
- зручно для troubleshooting

## Ansible для Support Engineer
Support зазвичай:
- читає playbooks
- запускає готові сценарії
- аналізує помилки
- використовує Ansible для швидких фіксів

## Ansible vs Shell scripts

|Ansible|Shell|
|---|---|
|Декларативний|Імперативний|
|Ідемпотентний|Ні|
|Масштабований|Погано|
|Читабельний|Залежить|
## Переваги Ansible
- agentless
- простий синтаксис
- велика спільнота
- підтримка хмари

## Обмеження
- не для real-time задач
- повільніший за low-level automation
- потребує дисципліни в структурах

Ansible — це **ключовий інструмент автоматизації**, який дозволяє керувати інфраструктурою **безпечно, передбачувано і масштабовано**.


#sh30